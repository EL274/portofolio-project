{"ast":null,"code":"var _jsxFileName = \"/home/tresor/portofolio-project/FinEase-app-web/frontend/src/context/FinanceContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const FinanceContext = /*#__PURE__*/createContext();\nexport const FinanceProvider = ({\n  children\n}) => {\n  _s();\n  const [transactions, setTransactions] = useState([]);\n  const [budget, setBudget] = useState(0); // Nouveau : Gestion du budget\n  const [salary, setSalary] = useState(0); // Stocker le salaire de l'utilisateur\n  const [categoryBudgets, setCategoryBudgets] = useState({}); // Budgets par catégorie\n\n  // Vérifier si les dépenses dépassent le budget\n  useEffect(() => {\n    const totalDepenses = transactions.filter(t => t.type === 'dépense').reduce((acc, t) => acc + t.amount, 0);\n    if (budget > 0 && totalDepenses > budget) {\n      toast.error(`⚠️ Dépassement de budget global de ${totalDepenses - budget} €`);\n    }\n  }, [transactions, budget]);\n  useEffect(() => {\n    transactions.forEach(t => {\n      if (categoryBudgets[t.category] && t.type === 'dépense') {\n        const totalDepenseCategory = transactions.filter(trans => trans.category === t.category && trans.type === 'dépense').reduce((acc, trans) => acc + trans.amount, 0);\n        if (totalDepenseCategory > categoryBudgets[t.category]) {\n          toast.warn(`⚠️ Dépassement du budget pour ${t.category} : ${totalDepenseCategory} €`);\n        }\n      }\n    });\n  }, [transactions, categoryBudgets]);\n  return /*#__PURE__*/_jsxDEV(FinanceContext.Provider, {\n    value: {\n      transactions,\n      setTransactions,\n      budget,\n      setBudget,\n      salary,\n      setSalary,\n      categoryBudgets,\n      setCategoryBudgets\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 5\n  }, this);\n};\n_s(FinanceProvider, \"GlVt1vVIY1XQ1FbInQs70egKEX8=\");\n_c = FinanceProvider;\nvar _c;\n$RefreshReg$(_c, \"FinanceProvider\");","map":{"version":3,"names":["React","createContext","useState","useEffect","toast","jsxDEV","_jsxDEV","FinanceContext","FinanceProvider","children","_s","transactions","setTransactions","budget","setBudget","salary","setSalary","categoryBudgets","setCategoryBudgets","totalDepenses","filter","t","type","reduce","acc","amount","error","forEach","category","totalDepenseCategory","trans","warn","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/tresor/portofolio-project/FinEase-app-web/frontend/src/context/FinanceContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport { toast } from 'react-toastify';\n\nexport const FinanceContext = createContext();\n\nexport const FinanceProvider = ({ children }) => {\n  const [transactions, setTransactions] = useState([]);\n  const [budget, setBudget] = useState(0); // Nouveau : Gestion du budget\n  const [salary, setSalary] = useState(0); // Stocker le salaire de l'utilisateur\n  const [categoryBudgets, setCategoryBudgets] = useState({}); // Budgets par catégorie\n\n  // Vérifier si les dépenses dépassent le budget\n  useEffect(() => {\n    const totalDepenses = transactions\n      .filter(t => t.type === 'dépense')\n      .reduce((acc, t) => acc + t.amount, 0);\n\n    if (budget > 0 && totalDepenses > budget) {\n      toast.error(`⚠️ Dépassement de budget global de ${totalDepenses - budget} €`);\n    }\n  }, [transactions, budget]);\n\n  useEffect(() => {\n    transactions.forEach((t) => {\n      if (categoryBudgets[t.category] && t.type === 'dépense') {\n        const totalDepenseCategory = transactions\n          .filter(trans => trans.category === t.category && trans.type === 'dépense')\n          .reduce((acc, trans) => acc + trans.amount, 0);\n\n        if (totalDepenseCategory > categoryBudgets[t.category]) {\n          toast.warn(`⚠️ Dépassement du budget pour ${t.category} : ${totalDepenseCategory} €`);\n        }\n      }\n    });\n  }, [transactions, categoryBudgets]);\n\n  return (\n    <FinanceContext.Provider value={{ \n        transactions, setTransactions, budget, setBudget, salary, setSalary,categoryBudgets, setCategoryBudgets }}>\n      {children}\n    </FinanceContext.Provider>\n  );\n};\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,KAAK,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,OAAO,MAAMC,cAAc,gBAAGN,aAAa,CAAC,CAAC;AAE7C,OAAO,MAAMO,eAAe,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC/C,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpD,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EACzC,MAAM,CAACa,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;EACzC,MAAM,CAACe,eAAe,EAAEC,kBAAkB,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAE5D;EACAC,SAAS,CAAC,MAAM;IACd,MAAMgB,aAAa,GAAGR,YAAY,CAC/BS,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,IAAI,KAAK,SAAS,CAAC,CACjCC,MAAM,CAAC,CAACC,GAAG,EAAEH,CAAC,KAAKG,GAAG,GAAGH,CAAC,CAACI,MAAM,EAAE,CAAC,CAAC;IAExC,IAAIZ,MAAM,GAAG,CAAC,IAAIM,aAAa,GAAGN,MAAM,EAAE;MACxCT,KAAK,CAACsB,KAAK,CAAC,sCAAsCP,aAAa,GAAGN,MAAM,IAAI,CAAC;IAC/E;EACF,CAAC,EAAE,CAACF,YAAY,EAAEE,MAAM,CAAC,CAAC;EAE1BV,SAAS,CAAC,MAAM;IACdQ,YAAY,CAACgB,OAAO,CAAEN,CAAC,IAAK;MAC1B,IAAIJ,eAAe,CAACI,CAAC,CAACO,QAAQ,CAAC,IAAIP,CAAC,CAACC,IAAI,KAAK,SAAS,EAAE;QACvD,MAAMO,oBAAoB,GAAGlB,YAAY,CACtCS,MAAM,CAACU,KAAK,IAAIA,KAAK,CAACF,QAAQ,KAAKP,CAAC,CAACO,QAAQ,IAAIE,KAAK,CAACR,IAAI,KAAK,SAAS,CAAC,CAC1EC,MAAM,CAAC,CAACC,GAAG,EAAEM,KAAK,KAAKN,GAAG,GAAGM,KAAK,CAACL,MAAM,EAAE,CAAC,CAAC;QAEhD,IAAII,oBAAoB,GAAGZ,eAAe,CAACI,CAAC,CAACO,QAAQ,CAAC,EAAE;UACtDxB,KAAK,CAAC2B,IAAI,CAAC,iCAAiCV,CAAC,CAACO,QAAQ,MAAMC,oBAAoB,IAAI,CAAC;QACvF;MACF;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAAClB,YAAY,EAAEM,eAAe,CAAC,CAAC;EAEnC,oBACEX,OAAA,CAACC,cAAc,CAACyB,QAAQ;IAACC,KAAK,EAAE;MAC5BtB,YAAY;MAAEC,eAAe;MAAEC,MAAM;MAAEC,SAAS;MAAEC,MAAM;MAAEC,SAAS;MAACC,eAAe;MAAEC;IAAmB,CAAE;IAAAT,QAAA,EAC3GA;EAAQ;IAAAyB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACc,CAAC;AAE9B,CAAC;AAAC3B,EAAA,CArCWF,eAAe;AAAA8B,EAAA,GAAf9B,eAAe;AAAA,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}